{"version":3,"sources":["UISaveLayout.ts"],"names":[],"mappings":";;;;;AAAA,yCAA0C;AAC1C,wDAA4D;AAE5D,wCAAgD;AAE1C,IAAA,kBAAqC,EAAnC,oBAAO,EAAE,sBAAQ,CAAmB;AAG5C;IAA0C,gCAAY;IADtD;QAAA,qEA+CC;QA5CG,aAAO,GAAe,IAAI,CAAC;QAE3B,aAAO,GAAG,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC;;QAwCzB,iBAAiB;IAErB,CAAC;IAzCG,sBAAsB;IACtB,0BAA0B;IAE1B,YAAY;IACZ,0BAA0B;IAE1B,wBAAwB;IAExB,aAAa;IACb,IAAI;IACJ,4BAAK,GAAL;IAEA,CAAC;IAEK,gCAAS,GAAf;;;;;;wBACI,IAAI,IAAI,CAAC,OAAO,CAAC,MAAM,IAAI,EAAE,EAAE;4BAC3B,sBAAY,CAAC,QAAQ,CAAC,CAAC;4BACvB,sBAAO;yBACV;wBACG,OAAO,GAAG,IAAI,KAAK,EAAE,CAAC;wBACtB,UAAU,GAAiB,uBAAW,CAAC,QAAQ,CAAC,cAAc,CAAC,CAAC;wBACpE,KAAW,GAAG,IAAI,UAAU,CAAC,MAAM,EAAE;4BACjC,IAAI,UAAU,CAAC,MAAM,CAAC,cAAc,CAAC,GAAG,CAAC,EAAE;gCACjC,GAAG,GAAG,UAAU,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;gCACnC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;6BACrB;yBACJ;wBACc,qBAAM,wBAAe,CAAC,UAAU,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,OAAO,CAAC,EAAA;;wBAAzE,GAAG,GAAQ,SAA8D;wBAC7E,iEAAiE;wBACjE,0CAA0C;wBAC1C,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;wBACjB,IAAI,GAAG,CAAC,OAAO,EAAE;4BACb,uBAAW,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;yBAChC;;;;;KACJ;IAED,mCAAY,GAAZ;QACI,uBAAW,CAAC,UAAU,CAAC,IAAI,CAAC,CAAA;IAChC,CAAC;IAzCD;QADC,QAAQ,CAAC,EAAE,CAAC,OAAO,CAAC;iDACM;IAFV,YAAY;QADhC,OAAO;OACa,YAAY,CA8ChC;IAAD,mBAAC;CA9CD,AA8CC,CA9CyC,EAAE,CAAC,SAAS,GA8CrD;kBA9CoB,YAAY","file":"","sourceRoot":"../../../../../assets/Script/Gui","sourcesContent":["import { g_UIManager } from \"./UIManager\";\nimport { printDefault } from \"../AutoBattle/OutPut/Printer\";\nimport UIChessTable from \"./UIChessTable\";\nimport { g_layoutMessage } from \"../Net/Layout\";\n\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class UISaveLayout extends cc.Component {\n    @property(cc.EditBox)\n    editBox: cc.EditBox = null;\n\n    gridPos = { x: 0, y: 0 };\n    // @property(cc.Label)\n    // label: cc.Label = null;\n\n    // @property\n    // text: string = 'hello';\n\n    // LIFE-CYCLE CALLBACKS:\n\n    // onLoad() {\n    // }\n    start() {\n\n    }\n\n    async onOkClick() {\n        if (this.editBox.string == \"\") {\n            printDefault(\"名字不能为空\");\n            return;\n        }\n        let npcList = new Array();\n        let chessTable: UIChessTable = g_UIManager.getPanel(\"UIChessTable\");\n        for (const key in chessTable.layout) {\n            if (chessTable.layout.hasOwnProperty(key)) {\n                const npc = chessTable.layout[key];\n                npcList.push(npc);\n            }\n        }\n        let ret: any = await g_layoutMessage.saveLayout(this.editBox.string, npcList);\n        // let saveLayout = new SaveLayout(this.editBox.string, npcList);\n        // let ret: any = await saveLayout.send();\n        console.log(ret);\n        if (ret.success) {\n            g_UIManager.closePanel(this);\n        }\n    }\n\n    onCloseClick() {\n        g_UIManager.closePanel(this)\n    }\n    // update (dt) {}\n\n}\n"]}